---
aliases: []
author: lgf
created: 45_2022-11-12 19:15:01
modified: 45_2022-11-12 19:28:03
tags: [learn/program/algorithm/labuladong/æŠ€å·§/é¢è¯•]
title: å¦‚ä½•åˆ¤å®šå®Œç¾çŸ©å½¢  labuladongçš„ç®—æ³•å°æŠ„
---
# å¦‚ä½•åˆ¤å®šå®Œç¾çŸ©å½¢ Labuladongçš„ç®—æ³•å°æŠ„
## å¦‚ä½•åˆ¤å®šå®Œç¾çŸ©å½¢

[![](https://labuladong.gitee.io/algo/images/souyisou1.png)](https://labuladong.gitee.io/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š [æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ï¼› [ç¬¬ 13 æœŸåˆ·é¢˜æ‰“å¡](https://mp.weixin.qq.com/s/eUG2OOzY3k_ZTz-CFvtv5Q) æœ€åå‡ å¤©æŠ¥åï¼**

è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| --- | --- | --- |
| [391\. Perfect Rectangle](https://leetcode.com/problems/perfect-rectangle/) | [391\. å®Œç¾çŸ©å½¢](https://leetcode.cn/problems/perfect-rectangle/) | ğŸ”´ |

**â€”â€”â€”â€“**

ä»Šå¤©è®²ä¸€é“éå¸¸æœ‰æ„æ€ï¼Œè€Œä¸”æ¯”è¾ƒæœ‰éš¾åº¦çš„é¢˜ç›®ã€‚

æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªçŸ©å½¢æœ‰å››ä¸ªé¡¶ç‚¹ï¼Œä½†æ˜¯åªè¦ä¸¤ä¸ªé¡¶ç‚¹çš„åæ ‡å°±å¯ä»¥ç¡®å®šä¸€ä¸ªçŸ©å½¢äº†ï¼ˆæ¯”å¦‚å·¦ä¸‹è§’å’Œå³ä¸Šè§’ä¸¤ä¸ªé¡¶ç‚¹åæ ‡ï¼‰ã€‚

ä»Šå¤©æ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 391 é¢˜ã€Œ [å®Œç¾çŸ©å½¢](https://leetcode.cn/problems/perfect-rectangle/)ã€ï¼Œé¢˜ç›®ä¼šç»™æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªæ•°ç»„ `rectangles`ï¼Œé‡Œé¢è£…ç€è‹¥å¹²å››å…ƒç»„ `(x1,y1,x2,y2)`ï¼Œæ¯ä¸ªå››å…ƒç»„å°±æ˜¯è®°å½•ä¸€ä¸ªçŸ©å½¢çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œè¾“å…¥çš„ `rectangles` æ•°ç»„å®é™…ä¸Šå°±æ˜¯å¾ˆå¤šå°çŸ©å½¢ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬è¾“å‡ºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­è¿™äº›å°çŸ©å½¢èƒ½å¦æ„æˆä¸€ä¸ªã€Œå®Œç¾çŸ©å½¢ã€ã€‚å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```
def isRectangleCover(rectangles: List[List[int]]) -> bool
```

**æ‰€è°“ã€Œå®Œç¾çŸ©å½¢ã€ï¼Œå°±æ˜¯è¯´ `rectangles` ä¸­çš„å°çŸ©å½¢æ‹¼æˆå›¾å½¢å¿…é¡»æ˜¯ä¸€ä¸ªå¤§çŸ©å½¢ï¼Œä¸”å¤§çŸ©å½¢ä¸­ä¸èƒ½æœ‰é‡å å’Œç©ºç¼º**ã€‚

æ¯”å¦‚è¯´é¢˜ç›®ç»™æˆ‘ä»¬ä¸¾äº†å‡ ä¸ªä¾‹å­ï¼š

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example1.png)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example1.png)

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example2.png)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example2.png)

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example3.png)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/example3.png)

è¿™ä¸ªé¢˜ç›®éš¾åº¦æ˜¯ Hardï¼Œå¦‚æœæ²¡æœ‰åšè¿‡ç±»ä¼¼çš„é¢˜ç›®ï¼Œè¿˜çœŸåšä¸å‡ºæ¥ã€‚

å¸¸è§„çš„æ€è·¯ï¼Œèµ·ç è¦æŠŠæœ€ç»ˆå½¢æˆçš„å›¾å½¢è¡¨ç¤ºå‡ºæ¥å§ï¼Œè€Œä¸”ä½ è¦æœ‰æ–¹æ³•å»åˆ¤æ–­ä¸¤ä¸ªçŸ©å½¢æ˜¯å¦æœ‰é‡å ï¼Œæ˜¯å¦æœ‰ç©ºéš™ï¼Œè™½ç„¶å¯ä»¥åšåˆ°ï¼Œä¸è¿‡æ„Ÿè§‰å¼‚å¸¸å¤æ‚ã€‚

**å…¶å®ï¼Œæƒ³åˆ¤æ–­æœ€ç»ˆå½¢æˆçš„å›¾å½¢æ˜¯å¦æ˜¯å®Œç¾çŸ©å½¢ï¼Œéœ€è¦ä»ã€Œé¢ç§¯ã€å’Œã€Œé¡¶ç‚¹ã€ä¸¤ä¸ªè§’åº¦æ¥å¤„ç†**ã€‚

å…ˆè¯´è¯´ä»€ä¹ˆå«ä»ã€Œé¢ç§¯ã€çš„è§’åº¦ã€‚

`rectangles` æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå››å…ƒç»„ `(x1, y1, x2, y2)`ï¼Œè¡¨ç¤ºä¸€ä¸ªå°çŸ©å½¢çš„å·¦ä¸‹è§’é¡¶ç‚¹åæ ‡å’Œå³ä¸Šè§’é¡¶ç‚¹åæ ‡ã€‚

é‚£ä¹ˆå‡è®¾è¿™äº›å°çŸ©å½¢æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªã€Œå®Œç¾çŸ©å½¢ã€ï¼Œä½ ä¼šä¸ä¼šæ±‚è¿™ä¸ªå®Œç¾çŸ©å½¢çš„å·¦ä¸‹è§’é¡¶ç‚¹åæ ‡ `(X1, Y1)` å’Œå³ä¸Šè§’é¡¶ç‚¹çš„åæ ‡ `(X2, Y2)`ï¼Ÿ

è¿™ä¸ªå¾ˆç®€å•å§ï¼Œå·¦ä¸‹è§’é¡¶ç‚¹ `(X1, Y1)` å°±æ˜¯ `rectangles` ä¸­æ‰€æœ‰å°çŸ©å½¢ä¸­æœ€é å·¦ä¸‹è§’çš„é‚£ä¸ªå°çŸ©å½¢çš„å·¦ä¸‹è§’é¡¶ç‚¹ï¼›å³ä¸Šè§’é¡¶ç‚¹ `(X2, Y2)` å°±æ˜¯æ‰€æœ‰å°çŸ©å½¢ä¸­æœ€é å³ä¸Šè§’çš„é‚£ä¸ªå°çŸ©å½¢çš„å³ä¸Šè§’é¡¶ç‚¹ã€‚

æ³¨æ„æˆ‘ä»¬ç”¨å°å†™å­—æ¯è¡¨ç¤ºå°çŸ©å½¢çš„åæ ‡ï¼Œå¤§å†™å­—æ¯è¡¨ç¤ºæœ€ç»ˆå½¢æˆçš„å®Œç¾çŸ©å½¢çš„åæ ‡ï¼Œå¯ä»¥è¿™æ ·å†™ä»£ç ï¼š

```
# å·¦ä¸‹è§’é¡¶ç‚¹ï¼Œåˆå§‹åŒ–ä¸ºæ­£æ— ç©·ï¼Œä»¥ä¾¿è®°å½•æœ€å°å€¼
X1, Y1 = float('inf'), float('inf')
# å³ä¸Šè§’é¡¶ç‚¹ï¼Œåˆå§‹åŒ–ä¸ºè´Ÿæ— ç©·ï¼Œä»¥ä¾¿è®°å½•æœ€å¤§å€¼
X2, Y2 = -float('inf'), -float('inf')

for x1, y1, x2, y2 in rectangles:
    # å–å°çŸ©å½¢å·¦ä¸‹è§’é¡¶ç‚¹çš„æœ€å°å€¼
    X1, Y1 = min(X1, x1), min(Y1, y1)
    # å–å°çŸ©å½¢å³ä¸Šè§’é¡¶ç‚¹çš„æœ€å¤§å€¼
    X2, Y2 = max(X2, x2), max(Y2, y2)
```

è¿™æ ·å°±èƒ½æ±‚å‡ºå®Œç¾çŸ©å½¢çš„å·¦ä¸‹è§’é¡¶ç‚¹åæ ‡ `(X1, Y1)` å’Œå³ä¸Šè§’é¡¶ç‚¹çš„åæ ‡ `(X2, Y2)` äº†ã€‚

**è®¡ç®—å‡ºçš„ `X1,Y1,X2,Y2` åæ ‡æ˜¯å®Œç¾çŸ©å½¢çš„ã€Œç†è®ºåæ ‡ã€**ï¼Œå¦‚æœæ‰€æœ‰å°çŸ©å½¢çš„é¢ç§¯ä¹‹å’Œä¸ç­‰äºè¿™ä¸ªå®Œç¾çŸ©å½¢çš„ç†è®ºé¢ç§¯ï¼Œé‚£ä¹ˆè¯´æ˜æœ€ç»ˆå½¢æˆçš„å›¾å½¢è‚¯å®šå­˜åœ¨ç©ºç¼ºæˆ–è€…é‡å ï¼Œè‚¯å®šä¸æ˜¯å®Œç¾çŸ©å½¢ã€‚

ä»£ç å¯ä»¥è¿›ä¸€æ­¥ï¼š

```
def isRectangleCover(rectangles: List[List[int]]) -> bool:
    X1, Y1 = float('inf'), float('inf')
    X2, Y2 = -float('inf'), -float('inf')
    # è®°å½•æ‰€æœ‰å°çŸ©å½¢çš„é¢ç§¯ä¹‹å’Œ
    actual_area = 0
    for x1, y1, x2, y2 in rectangles:
        # è®¡ç®—å®Œç¾çŸ©å½¢çš„ç†è®ºåæ ‡
        X1, Y1 = min(X1, x1), min(Y1, y1)
        X2, Y2 = max(X2, x2), max(Y2, y2)
        # ç´¯åŠ æ‰€æœ‰å°çŸ©å½¢çš„é¢ç§¯
        actual_area += (x2 - x1) * (y2 - y1)

    # è®¡ç®—å®Œç¾çŸ©å½¢çš„ç†è®ºé¢ç§¯
    expected_area = (X2 - X1) * (Y2 - Y1)
    # é¢ç§¯åº”è¯¥ç›¸åŒ
    if actual_area != expected_area:
        return False

    return True
```

è¿™æ ·ï¼Œã€Œé¢ç§¯ã€è¿™ä¸ªç»´åº¦å°±å®Œæˆäº†ï¼Œæ€è·¯å…¶å®ä¸éš¾ï¼Œæ— éå°±æ˜¯å‡è®¾æœ€ç»ˆå½¢æˆçš„å›¾å½¢æ˜¯ä¸ªå®Œç¾çŸ©å½¢ï¼Œç„¶åæ¯”è¾ƒé¢ç§¯æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰çš„è¯è¯´æ˜æœ€ç»ˆå½¢æˆçš„å›¾å½¢ä¸€å®šå­˜åœ¨ç©ºç¼ºæˆ–è€…é‡å éƒ¨åˆ†ï¼Œä¸æ˜¯å®Œç¾çŸ©å½¢ã€‚

ä½†æ˜¯åè¿‡æ¥è¯´ï¼Œå¦‚æœé¢ç§¯ç›¸åŒï¼Œæ˜¯å¦å¯ä»¥è¯æ˜æœ€ç»ˆå½¢æˆçš„å›¾å½¢æ˜¯å®Œç¾çŸ©å½¢ï¼Œä¸€å®šä¸å­˜åœ¨ç©ºç¼ºæˆ–è€…é‡å ï¼Ÿ

è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œä¸¾ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œä½ å‡æƒ³ä¸€ä¸ªå®Œç¾çŸ©å½¢ï¼Œç„¶åæˆ‘åœ¨å®ƒä¸­é—´æŒ–æ‰ä¸€ä¸ªå°çŸ©å½¢ï¼ŒæŠŠè¿™ä¸ªå°çŸ©å½¢å‘ä¸‹å¹³ç§»ä¸€ä¸ªå•ä½ã€‚è¿™æ ·å°çŸ©å½¢çš„é¢ç§¯ä¹‹å’Œæ²¡å˜ï¼Œä½†æ˜¯åŸæ¥çš„å®Œç¾çŸ©å½¢ä¸­å°±ç©ºç¼ºäº†ä¸€éƒ¨åˆ†ï¼Œä¹Ÿé‡å äº†ä¸€éƒ¨åˆ†ï¼Œå·²ç»ä¸æ˜¯å®Œç¾çŸ©å½¢äº†ã€‚

**ç»¼ä¸Šï¼Œå³ä¾¿é¢ç§¯ç›¸åŒï¼Œå¹¶ä¸èƒ½å®Œå…¨ä¿è¯ä¸å­˜åœ¨ç©ºç¼ºæˆ–è€…é‡å ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä»ã€Œé¡¶ç‚¹ã€çš„ç»´åº¦æ¥è¾…åŠ©åˆ¤æ–­**ã€‚

è®°å¾—å°å­¦çš„æ—¶å€™æœ‰ä¸€é“æ™ºåŠ›é¢˜ï¼Œç»™ä½ ä¸€ä¸ªçŸ©å½¢ï¼Œåˆ‡ä¸€åˆ€ï¼Œå‰©ä¸‹çš„å›¾å½¢æœ‰å‡ ä¸ªé¡¶ç‚¹ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œå¦‚æœæ²¿ç€å¯¹è§’çº¿åˆ‡ï¼Œå°±å‰© 3 ä¸ªé¡¶ç‚¹ï¼›å¦‚æœæ¨ªç€æˆ–è€…ç«–ç€åˆ‡ï¼Œå‰© 4 ä¸ªé¡¶ç‚¹ï¼›å¦‚æœåªåˆ‡æ‰ä¸€ä¸ªå°è§’ï¼Œé‚£ä¹ˆä¼šå‡ºç° 5 ä¸ªé¡¶ç‚¹ã€‚

å›åˆ°è¿™é“é¢˜ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çš„åˆ†æä¹Ÿæœ‰é‚£ä¹ˆä¸€ç‚¹æ™ºåŠ›é¢˜çš„å‘³é“ã€‚

**æ˜¾ç„¶ï¼Œå®Œç¾çŸ©å½¢ä¸€å®šåªæœ‰å››ä¸ªé¡¶ç‚¹**ã€‚çŸ©å½¢å˜›ï¼ŒæŒ‰ç†è¯´åº”è¯¥æœ‰å››ä¸ªé¡¶ç‚¹ï¼Œå¦‚æœå­˜åœ¨ç©ºç¼ºæˆ–è€…é‡å çš„è¯ï¼Œè‚¯å®šä¸æ˜¯å››ä¸ªé¡¶ç‚¹ï¼Œæ¯”å¦‚è¯´é¢˜ç›®çš„è¿™ä¸¤ä¸ªä¾‹å­å°±æœ‰ä¸æ­¢ 4 ä¸ªé¡¶ç‚¹ï¼š

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/1.png)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/1.png)

> PSï¼šæˆ‘ä¹Ÿä¸çŸ¥é“åº”è¯¥ç”¨ã€Œé¡¶ç‚¹ã€è¿˜æ˜¯ã€Œè§’ã€æ¥å½¢å®¹ï¼Œå¥½åƒéƒ½ä¸å¤ªå‡†ç¡®ï¼Œæœ¬æ–‡ç»Ÿä¸€ç”¨ã€Œé¡¶ç‚¹ã€æ¥å½¢å®¹ï¼Œå¤§å®¶ç†è§£å°±å¥½~

åªè¦æˆ‘ä»¬æƒ³åŠæ³•è®¡ç®— `rectangles` ä¸­çš„å°çŸ©å½¢æœ€ç»ˆå½¢æˆçš„å›¾å½¢æœ‰å‡ ä¸ªé¡¶ç‚¹ï¼Œå°±èƒ½åˆ¤æ–­æœ€ç»ˆçš„å›¾å½¢æ˜¯ä¸æ˜¯ä¸€ä¸ªå®Œç¾çŸ©å½¢äº†ã€‚

é‚£ä¹ˆé¡¶ç‚¹æ˜¯å¦‚ä½•å½¢æˆçš„å‘¢ï¼Ÿæˆ‘ä»¬å€’æ˜¯ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºæ¥é¡¶ç‚¹åœ¨å“ªé‡Œï¼Œé—®é¢˜æ˜¯å¦‚ä½•è®©è®¡ç®—æœºï¼Œè®©ç®—æ³•çŸ¥é“æŸä¸€ä¸ªç‚¹æ˜¯ä¸æ˜¯é¡¶ç‚¹å‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯æœ¬é¢˜çš„éš¾ç‚¹æ‰€åœ¨ã€‚

çœ‹ä¸‹å›¾çš„å››ç§æƒ…å†µï¼š

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/2.jpeg)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/2.jpeg)

å›¾ä¸­ç”»çº¢ç‚¹çš„åœ°æ–¹ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯é¡¶ç‚¹ï¼Œä»€ä¹ˆæ—¶å€™ä¸æ˜¯é¡¶ç‚¹ï¼Ÿæ˜¾ç„¶ï¼Œæƒ…å†µä¸€å’Œæƒ…å†µä¸‰çš„æ—¶å€™æ˜¯é¡¶ç‚¹ï¼Œè€Œæƒ…å†µäºŒå’Œæƒ…å†µå››çš„æ—¶å€™ä¸æ˜¯é¡¶ç‚¹ã€‚

**ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æŸä¸€ä¸ªç‚¹åŒæ—¶æ˜¯ 2 ä¸ªæˆ–è€… 4 ä¸ªå°çŸ©å½¢çš„é¡¶ç‚¹æ—¶ï¼Œè¯¥ç‚¹æœ€ç»ˆä¸æ˜¯é¡¶ç‚¹ï¼›å½“æŸä¸€ä¸ªç‚¹åŒæ—¶æ˜¯ 1 ä¸ªæˆ–è€… 3 ä¸ªå°çŸ©å½¢çš„é¡¶ç‚¹æ—¶ï¼Œè¯¥ç‚¹æœ€ç»ˆæ˜¯ä¸€ä¸ªé¡¶ç‚¹**ã€‚

æ³¨æ„ï¼Œ2 å’Œ 4 éƒ½æ˜¯å¶æ•°ï¼Œ1 å’Œ 3 éƒ½æ˜¯å¥‡æ•°ï¼Œæˆ‘ä»¬æƒ³è®¡ç®—æœ€ç»ˆå½¢æˆçš„å›¾å½¢ä¸­æœ‰å‡ ä¸ªé¡¶ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¦ç­›é€‰å‡ºé‚£äº›å‡ºç°äº†å¥‡æ•°æ¬¡çš„é¡¶ç‚¹ï¼Œå¯ä»¥è¿™æ ·å†™ä»£ç ï¼š

```
def isRectangleCover(rectangles: List[List[int]]) -> bool:
    X1, Y1 = float('inf'), float('inf')
    X2, Y2 = -float('inf'), -float('inf')

    actual_area = 0
    # å“ˆå¸Œé›†åˆï¼Œè®°å½•æœ€ç»ˆå›¾å½¢çš„é¡¶ç‚¹
    points = set()
    for x1, y1, x2, y2 in rectangles:
        X1, Y1 = min(X1, x1), min(Y1, y1)
        X2, Y2 = max(X2, x2), max(Y2, y2)

        actual_area += (x2 - x1) * (y2 - y1)
        # å…ˆç®—å‡ºå°çŸ©å½¢æ¯ä¸ªç‚¹çš„åæ ‡
        p1, p2 = (x1, y1), (x1, y2)
        p3, p4 = (x2, y1), (x2, y2)
        # å¯¹äºæ¯ä¸ªç‚¹ï¼Œå¦‚æœå­˜åœ¨é›†åˆä¸­ï¼Œåˆ é™¤å®ƒï¼›
        # å¦‚æœä¸å­˜åœ¨é›†åˆä¸­ï¼Œæ·»åŠ å®ƒï¼›
        # åœ¨é›†åˆä¸­å‰©ä¸‹çš„ç‚¹éƒ½æ˜¯å‡ºç°å¥‡æ•°æ¬¡çš„ç‚¹
        for p in [p1, p2, p3, p4]:
            if p in points: points.remove(p)
            else: points.add(p)

    expected_area = (X2 - X1) * (Y2 - Y1)
    if actual_area != expected_area:
        return False

    return True
```

è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª `points` é›†åˆè®°å½• `rectangles` ä¸­å°çŸ©å½¢ç»„æˆçš„æœ€ç»ˆå›¾å½¢çš„é¡¶ç‚¹åæ ‡ï¼Œå…³é”®é€»è¾‘åœ¨äºå¦‚ä½•å‘ `points` ä¸­æ·»åŠ åæ ‡ï¼š

**å¦‚æœæŸä¸€ä¸ªé¡¶ç‚¹ `p` å­˜åœ¨äºé›†åˆ `points` ä¸­ï¼Œåˆ™å°†å®ƒåˆ é™¤ï¼›å¦‚æœä¸å­˜åœ¨äºé›†åˆ `points` ä¸­ï¼Œåˆ™å°†å®ƒæ’å…¥**ã€‚

è¿™ä¸ªç®€å•çš„é€»è¾‘ï¼Œè®© `points` é›†åˆæœ€ç»ˆåªä¼šç•™ä¸‹é‚£äº›å‡ºç°äº† 1 æ¬¡æˆ–è€… 3 æ¬¡çš„é¡¶ç‚¹ï¼Œé‚£äº›å‡ºç°äº† 2 æ¬¡æˆ–è€… 4 æ¬¡çš„é¡¶ç‚¹éƒ½è¢«æ¶ˆæ‰äº†ã€‚

é‚£ä¹ˆé¦–å…ˆæƒ³åˆ°ï¼Œ`points` é›†åˆä¸­æœ€ååº”è¯¥åªæœ‰ 4 ä¸ªé¡¶ç‚¹å¯¹å§ï¼Œå¦‚æœ `len(points) != 4` è¯´æ˜æœ€ç»ˆæ„æˆçš„å›¾å½¢è‚¯å®šä¸æ˜¯å®Œç¾çŸ©å½¢ã€‚

ä½†æ˜¯å¦‚æœ `len(points) == 4` æ˜¯å¦èƒ½è¯´æ˜æœ€ç»ˆæ„æˆçš„å›¾å½¢è‚¯å®šæ˜¯å®Œç¾çŸ©å½¢å‘¢ï¼Ÿä¹Ÿä¸è¡Œï¼Œå› ä¸ºé¢˜ç›®å¹¶æ²¡æœ‰è¯´ `rectangles` ä¸­çš„å°çŸ©å½¢ä¸å­˜åœ¨é‡å¤ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š

[![](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/3.jpeg)](https://labuladong.gitee.io/algo/images/%e5%ae%8c%e7%be%8e%e7%9f%a9%e5%bd%a2/3.jpeg)

ä¸‹é¢ä¸¤ä¸ªçŸ©å½¢é‡å¤äº†ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„ç®—æ³•é€»è¾‘ï¼Œå®ƒä»¬çš„é¡¶ç‚¹éƒ½è¢«æ¶ˆæ‰äº†ï¼Œæœ€ç»ˆæ˜¯å‰©ä¸‹äº†å››ä¸ªé¡¶ç‚¹ï¼›å†çœ‹é¢ç§¯ï¼Œå®Œç¾çŸ©å½¢çš„ç†è®ºåæ ‡æ˜¯å›¾ä¸­çº¢è‰²çš„ç‚¹ï¼Œè®¡ç®—å‡ºçš„ç†è®ºé¢ç§¯å’Œå®é™…é¢ç§¯ä¹Ÿç›¸åŒã€‚ä½†æ˜¯æ˜¾ç„¶è¿™ç§æƒ…å†µä¸æ˜¯é¢˜ç›®è¦æ±‚å®Œç¾çŸ©å½¢ã€‚

æ‰€ä»¥ä¸ä»…è¦ä¿è¯ `len(points) == 4`ï¼Œè€Œä¸”è¦ä¿è¯ `points` ä¸­æœ€ç»ˆå‰©ä¸‹çš„ç‚¹åæ ‡å°±æ˜¯å®Œç¾çŸ©å½¢çš„å››ä¸ªç†è®ºåæ ‡ï¼Œç›´æ¥çœ‹ä»£ç å§ï¼š

```
def isRectangleCover(rectangles: List[List[int]]) -> bool:
    X1, Y1 = float('inf'), float('inf')
    X2, Y2 = -float('inf'), -float('inf')
    
    points = set()
    actual_area = 0
    for x1, y1, x2, y2 in rectangles:
        # è®¡ç®—å®Œç¾çŸ©å½¢çš„ç†è®ºé¡¶ç‚¹åæ ‡
        X1, Y1 = min(X1, x1), min(Y1, y1)
        X2, Y2 = max(X2, x2), max(Y2, y2)
        # ç´¯åŠ å°çŸ©å½¢çš„é¢ç§¯
        actual_area += (x2 - x1) * (y2 - y1)
        # è®°å½•æœ€ç»ˆå½¢æˆçš„å›¾å½¢ä¸­çš„é¡¶ç‚¹
        p1, p2 = (x1, y1), (x1, y2)
        p3, p4 = (x2, y1), (x2, y2)
        for p in [p1, p2, p3, p4]:
            if p in points: points.remove(p)
            else:           points.add(p)
    # åˆ¤æ–­é¢ç§¯æ˜¯å¦ç›¸åŒ
    expected_area = (X2 - X1) * (Y2 - Y1)
    if actual_area != expected_area:
        return False
    # åˆ¤æ–­æœ€ç»ˆç•™ä¸‹çš„é¡¶ç‚¹ä¸ªæ•°æ˜¯å¦ä¸º 4
    if len(points) != 4:       return False
    # åˆ¤æ–­ç•™ä¸‹çš„ 4 ä¸ªé¡¶ç‚¹æ˜¯å¦æ˜¯å®Œç¾çŸ©å½¢çš„é¡¶ç‚¹
    if (X1, Y1) not in points: return False
    if (X1, Y2) not in points: return False
    if (X2, Y1) not in points: return False
    if (X2, Y2) not in points: return False
    # é¢ç§¯å’Œé¡¶ç‚¹éƒ½å¯¹åº”ï¼Œè¯´æ˜çŸ©å½¢ç¬¦åˆé¢˜æ„
    return True
```

è¿™å°±æ˜¯æœ€ç»ˆçš„è§£æ³•ä»£ç ï¼Œä»ã€Œé¢ç§¯ã€å’Œã€Œé¡¶ç‚¹ã€ä¸¤ä¸ªç»´åº¦æ¥åˆ¤æ–­ï¼š

1ã€åˆ¤æ–­é¢ç§¯ï¼Œé€šè¿‡å®Œç¾çŸ©å½¢çš„ç†è®ºåæ ‡è®¡ç®—å‡ºä¸€ä¸ªç†è®ºé¢ç§¯ï¼Œç„¶åå’Œ `rectangles` ä¸­å°çŸ©å½¢çš„å®é™…é¢ç§¯å’Œåšå¯¹æ¯”ã€‚

2ã€åˆ¤æ–­é¡¶ç‚¹ï¼Œ`points` é›†åˆä¸­åº”è¯¥åªå‰©ä¸‹ 4 ä¸ªé¡¶ç‚¹ä¸”å‰©ä¸‹çš„é¡¶ç‚¹å¿…é¡»éƒ½æ˜¯å®Œç¾çŸ©å½¢çš„ç†è®ºé¡¶ç‚¹ã€‚

**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•å°æŠ„ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤å…³é”®è¯ã€Œ**è¿›ç¾¤**ã€å¯åŠ å…¥ç®—æ³•ç¾¤ï¼›å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

[![](https://labuladong.gitee.io/algo/images/souyisou2.png)](https://labuladong.gitee.io/algo/images/souyisou2.png)